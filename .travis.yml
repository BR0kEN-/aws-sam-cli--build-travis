os: linux
dist: xenial
language: python

python:
  - 3.7

cache:
  - pip

env:
  global:
    # AWS CLI reads this variable automatically.
    - AWS_DEFAULT_REGION=eu-west-1

install:
  - pip3 install awscli aws-sam-cli boto3

script:
  - sam build --use-container --debug

# This block will be executed even if the "script" fails.
# Here we show there is not issue with Travis and the
# image can be downloaded.
after_script:
  - docker pull amazon/aws-sam-cli-build-image-python3.7
